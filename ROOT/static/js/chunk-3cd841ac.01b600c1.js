(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cd841ac"],{"9db8":function(e,r,t){},d5c2:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register-container"},[t("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.loginRules,"label-width":"100px","auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container center"},[t("h3",{staticClass:"title"},[e._v("自助申请商户")])]),t("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"角色"},model:{value:e.form.roleIds,callback:function(r){e.$set(e.form,"roleIds",r)},expression:"form.roleIds"}},e._l(e.user.roles,(function(e){return t("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"账号",prop:"account"}},[t("el-input",{attrs:{placeholder:"账号",name:"account",type:"text","auto-complete":"on"},model:{value:e.form.account,callback:function(r){e.$set(e.form,"account",r)},expression:"form.account"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"userPassword"}},[t("el-input",{attrs:{placeholder:"密码",type:"password",name:"userPassword","auto-complete":"on"},model:{value:e.form.userPassword,callback:function(r){e.$set(e.form,"userPassword",r)},expression:"form.userPassword"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{attrs:{placeholder:"手机号",name:"phone","auto-complete":"on"},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[t("el-input",{attrs:{placeholder:"姓名",name:"userName",type:"text","auto-complete":"on"},model:{value:e.form.userName,callback:function(r){e.$set(e.form,"userName",r)},expression:"form.userName"}})],1),t("el-form-item",{attrs:{label:"邀请码",prop:"parentAccount"}},[t("el-input",{attrs:{placeholder:"请输入邀请码",name:"parentAccount",type:"text","auto-complete":"on"},model:{value:e.form.parentAccount,callback:function(r){e.$set(e.form,"parentAccount",r)},expression:"form.parentAccount"}})],1),t("div",{staticClass:"tips right"},[t("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1),t("div",{staticClass:"btn"},[t("div",{staticClass:"wrap-btn"}),t("el-button",{attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.handleRegister(r)}}},[e._v("注 册")])],1)],1)],1)},a=[],n=(t("5ab2"),t("6d57"),t("e10e"),t("9d37")),s=t("61f7"),l=t("52c1");function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){Object(n["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u={name:"register",data:function(){var e=this,r=function(r,t,o){""===t?o(new Error("请输入密码")):Object(s["b"])(e.form.userPassword)?o():o(new Error("密码包含 数字,英文,字符中的两种以上，长度6-20"))},t=function(r,t,o){""===t?o(new Error("请输入手机号")):Object(s["c"])(e.form.phone)?o():o(new Error("请输入正确的手机号"))};return{payWay:[{value:"支付宝",label:"支付宝"},{value:"微信",label:"微信"},{value:"银行卡",label:"银行卡"}],form:{roleIds:"",account:"",userName:"",userPassword:"",phone:"",parentAccount:""},loginRules:{roleIds:[{required:!0,trigger:"change",message:"请选择用户类型"}],account:[{required:!0,trigger:"blur",message:"请输入账号"}],userName:[{required:!0,trigger:"blur",message:"请输入姓名"}],parentAccount:[{required:!0,trigger:"blur",message:"请输邀请码"}],userPassword:[{required:!0,validator:r,trigger:"blur"}],phone:[{required:!0,validator:t,trigger:"blur"}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},computed:i({},Object(l["c"])(["user"])),mounted:function(){},methods:{handleRegister:function(){var e=this;this.$refs.form.validate((function(r){if(!r)return console.log("error submit!!"),!1;e.loading=!0;var t=i({},e.form);t.roleIds=[t.roleIds],e.$store.dispatch("user/register",t).then((function(){e.loading=!1,e.$message.success("注册成功，请登录！"),e.$router.push("/login")})).catch((function(){e.loading=!1}))}))}}},p=u,m=(t("f96c"),t("5511")),d=Object(m["a"])(p,o,a,!1,null,"3a471ca0",null);r["default"]=d.exports},f96c:function(e,r,t){"use strict";var o=t("9db8"),a=t.n(o);a.a}}]);